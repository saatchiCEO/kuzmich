(function(){var a=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};!function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;for(h=["male","female","androgynous"],l=["first","last","middle"],c=["nominative","genitive","dative","accusative","instrumental","prepositional"],j=function(b,d){var e,f,g;if(e=d.gender,a.call(h,e)<0)throw new Error("Valid gender is required as parameter");if(f=d["case"],a.call(c,f)<0)throw new Error("Valid case is required as parameter");if(g=d.nametype,a.call(l,g)<0)throw new Error("Valid nametype is required as parameter");return i(d.gender,b,d["case"],""+d.nametype+"name")},n=0,q=h.length;q>n;n++)for(g=h[n],null==j[g]&&(j[g]={}),o=0,r=l.length;r>o;o++)for(k=l[o],null==j[g][k]&&(j[g][k]={}),p=0,s=c.length;s>p;p++)f=c[p],j[g][k][f]=function(a,b,c){return function(d){return i(a,d,c,""+b+"name")}}(g,k,f);return null!=("undefined"!=typeof module&&null!==module?module.exports:void 0)?module.exports=j:"undefined"!=typeof window&&null!==window&&(window.kuzmich=j),j.detect_gender=function(a){switch(a=a.toLowerCase(),a.slice(a.length-2,a.length)){case"ич":return"male";case"на":return"female";default:return"androgynous"}},i=function(a,c,e,f){var g,h,i;return h=m[f],g=0,i=c.split("-"),i=i.map(function(){var f,j;return f=1===++g&&i.size>1,j=d(a,c,h,{first_word:f}),j?b(c,e,j):c}),i.join("-")},d=function(a,b,c,d){var f,g,h,i;return null==d&&(d={}),h=function(){var a;a=[];for(f in d)i=d[f],i===!0&&a.push(f);return a}(),null!=c.exceptions&&(g=e(a,b,c.exceptions,!0,h))?g:e(a,b,c.suffixes,!1,h)},e=function(b,c,d,e,f){var g,h,i,j,k,l,m,n,o;for(k=0,l=d.length;l>k;k++)if(g=d[k],!(g.tags&&function(){var b,c,d,e;for(d=g.tags,e=[],c=0,b=d.length;b>c;c++)i=d[c],a.call(f,i)<0&&e.push(i);return e}().length>0||"androgynous"!==g.gender&&b!==g.gender))for(c=c.toLowerCase(),o=g.test,n=0,m=o.length;m>n;n++)if(h=o[n],j=e?c:c.slice(c.length-h.length),j===h)return g},b=function(b,d,e){var f,g,h,i;if("nominative"===d)g=".";else{if(!(a.call(c,d)>=0))throw new Error("Unknown grammatic case: "+d);g=e.mods[c.indexOf(d)-1]}for(h=0,i=g.length;i>h;h++)switch(f=g[h]){case".":break;case"-":b=b.slice(0,b.length-1);break;default:b+=f}return b},m=require("./rules.json")}()}).call(this);