(function(){var a=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};!function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;for(i={},g=["male","female","androgynous"],k=["first","last","middle"],c=["nominative","genitive","dative","accusative","instrumental","prepositional"],m=0,o=g.length;o>m;m++)for(f=g[m],null==i.gender&&(i[f]={}),n=0,p=k.length;p>n;n++)j=k[n],i[f][j]=function(a,b){return function(c,d){return h(a,c,d,""+b+"name")}}(f,j);return null!=("undefined"!=typeof module&&null!==module?module.exports:void 0)?module.exports=i:"undefined"!=typeof window&&null!==window&&(window.kuzmich=i),i.detect_gender=function(a){switch(a=a.toLowerCase(),a.slice(a.length-2,a.length)){case"ич":return"male";case"на":return"female";default:return"androgynous"}},h=function(a,c,e,f){var g,h,i;return h=l[f],g=0,i=c.split("-"),i=i.map(function(){var f,j;return f=1===++g&&i.size>1,j=d(a,c,h,{first_word:f}),j?b(c,e,j):c}),i.join("-")},d=function(a,b,c,d){var f,g,h,i;return null==d&&(d={}),h=function(){var a;a=[];for(f in d)i=d[f],i===!0&&a.push(f);return a}(),null!=c.exceptions&&(g=e(a,b,c.exceptions,!0,h))?g:e(a,b,c.suffixes,!1,h)},e=function(b,c,d,e,f){var g,h,i,j,k,l,m,n,o;for(k=0,m=d.length;m>k;k++)if(g=d[k],!(g.tags&&function(){var b,c,d,e;for(d=g.tags,e=[],b=0,c=d.length;c>b;b++)i=d[b],a.call(f,i)<0&&e.push(i);return e}().length>0||"androgynous"!==g.gender&&b!==g.gender))for(c=c.toLowerCase(),o=g.test,l=0,n=o.length;n>l;l++)if(h=o[l],j=e?c:c.slice(c.length-h.length),j===h)return g},b=function(b,d,e){var f,g,h,i;if("nominative"===d)g=".";else{if(!(a.call(c,d)>=0))throw new Error("Unknown grammatic case: "+d);g=e.mods[c.indexOf(d)-1]}for(h=0,i=g.length;i>h;h++)switch(f=g[h]){case".":break;case"-":b=b.slice(0,b.length-1);break;default:b+=f}return b},l=require("./rules.json")}()}).call(this);