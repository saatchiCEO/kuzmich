(function(){var a=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};!function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;for(j={genders:["male","female","androgynous"],nametypes:["first","last","middle"],cases:["nominative","genitive","dative","accusative","instrumental","prepositional"]},h=function(b,c){var d,e,h,i,k;for(i=Object.keys(j),e=0,h=i.length;h>e;e++)if(d=i[e],k=c[d],a.call(j[d],k)<0)throw new Error("Valid "+f+" is required as parameter");return g(c.gender,b,c["case"],""+c.nametype+"name")},r=j.genders,l=0,o=r.length;o>l;l++)for(f=r[l],null==h[f]&&(h[f]={}),s=j.nametypes,m=0,p=s.length;p>m;m++)for(i=s[m],null==h[f][i]&&(h[f][i]={}),t=j.cases,n=0,q=t.length;q>n;n++)e=t[n],h[f][i][e]=function(a,b,c){return function(d){return g(a,d,c,""+b+"name")}}(f,i,e);return null!=("undefined"!=typeof module&&null!==module?module.exports:void 0)?module.exports=h:"undefined"!=typeof window&&null!==window&&(window.kuzmich=h),h.detect_gender=function(a){switch(a=a.toLowerCase(),a.slice(a.length-2,a.length)){case"ич":return"male";case"на":return"female";default:return"androgynous"}},g=function(a,d,e,f){var g,h,i;return h=k[f],g=0,i=d.split("-"),i=i.map(function(){var f,j;return f=1===++g&&i.size>1,j=c(a,d,h,{first_word:f}),j?b(d,e,j):d}),i.join("-")},c=function(a,b,c,e){var f,g,h,i;return null==e&&(e={}),h=function(){var a;a=[];for(f in e)i=e[f],i===!0&&a.push(f);return a}(),null!=c.exceptions&&(g=d(a,b,c.exceptions,!0,h))?g:d(a,b,c.suffixes,!1,h)},d=function(b,c,d,e,f){var g,h,i,j,k,l,m,n,o;for(k=0,l=d.length;l>k;k++)if(g=d[k],!(g.tags&&function(){var b,c,d,e;for(d=g.tags,e=[],c=0,b=d.length;b>c;c++)i=d[c],a.call(f,i)<0&&e.push(i);return e}().length>0||"androgynous"!==g.gender&&b!==g.gender))for(c=c.toLowerCase(),o=g.test,n=0,m=o.length;m>n;n++)if(h=o[n],j=e?c:c.slice(c.length-h.length),j===h)return g},b=function(b,c,d){var e,f,g,h;if("nominative"===c)f=".";else{if(!(a.call(j.cases,c)>=0))throw new Error("Unknown grammatic case: "+c);f=d.mods[j.cases.indexOf(c)-1]}for(g=0,h=f.length;h>g;g++)switch(e=f[g]){case".":break;case"-":b=b.slice(0,b.length-1);break;default:b+=e}return b},k=require("./rules.json")}()}).call(this);